{"version":3,"sources":["BottomSheetHandleContainer.tsx"],"names":["React","memo","useCallback","useMemo","PanGestureHandler","Animated","BottomSheetHandle","useBottomSheetInternal","BottomSheetHandleContainerComponent","animatedIndex","animatedPosition","simultaneousHandlers","_internalSimultaneousHandlers","enableHandlePanningGesture","shouldMeasureHeight","handlePanGestureHandler","onMeasureHeight","handleComponent","_providedHandleComponent","activeOffsetX","activeOffsetY","failOffsetX","failOffsetY","waitFor","_providedSimultaneousHandlers","refs","push","Array","isArray","shouldRenderHandle","handleOnLayout","nativeEvent","layout","height","renderHandle","HandleComponent","undefined","BottomSheetHandleContainer","displayName"],"mappings":"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","sourcesContent":["import React, { memo, useCallback, useMemo } from 'react';\nimport { PanGestureHandler } from 'react-native-gesture-handler';\nimport Animated from 'react-native-reanimated';\nimport BottomSheetHandle from '../bottomSheetHandle';\nimport type { BottomSheetHandleContainerProps } from './types';\nimport { useBottomSheetInternal } from '../../hooks';\n\nconst BottomSheetHandleContainerComponent = ({\n  animatedIndex,\n  animatedPosition,\n  simultaneousHandlers: _internalSimultaneousHandlers,\n  enableHandlePanningGesture,\n  shouldMeasureHeight,\n  handlePanGestureHandler,\n  onMeasureHeight,\n  handleComponent: _providedHandleComponent,\n}: BottomSheetHandleContainerProps) => {\n  //#region variables\n  const {\n    activeOffsetX,\n    activeOffsetY,\n    failOffsetX,\n    failOffsetY,\n    waitFor,\n    simultaneousHandlers: _providedSimultaneousHandlers,\n  } = useBottomSheetInternal();\n\n  const simultaneousHandlers = useMemo<any>(() => {\n    const refs = [];\n\n    if (_internalSimultaneousHandlers) {\n      refs.push(_internalSimultaneousHandlers);\n    }\n\n    if (_providedSimultaneousHandlers) {\n      if (Array.isArray(_providedSimultaneousHandlers)) {\n        refs.push(..._providedSimultaneousHandlers);\n      } else {\n        refs.push(_providedSimultaneousHandlers);\n      }\n    }\n\n    return refs;\n  }, [_providedSimultaneousHandlers, _internalSimultaneousHandlers]);\n\n  const shouldRenderHandle = useMemo(() => _providedHandleComponent !== null, [\n    _providedHandleComponent,\n  ]);\n  //#endregion\n\n  //#region callbacks\n  const handleOnLayout = useCallback(\n    ({\n      nativeEvent: {\n        layout: { height },\n      },\n    }) => {\n      onMeasureHeight(height);\n    },\n    [onMeasureHeight]\n  );\n  //#endregion\n\n  //#region renders\n  const renderHandle = useCallback(() => {\n    if (_providedHandleComponent === null) {\n      return null;\n    }\n    const HandleComponent =\n      _providedHandleComponent === undefined\n        ? BottomSheetHandle\n        : _providedHandleComponent;\n\n    return (\n      <HandleComponent\n        animatedIndex={animatedIndex}\n        animatedPosition={animatedPosition}\n      />\n    );\n  }, [animatedIndex, animatedPosition, _providedHandleComponent]);\n\n  // console.log(\n  //   'BottomSheetHandleContainer',\n  //   'render',\n  //   shouldRenderHandle,\n  //   shouldMeasureHeight\n  // );\n  return shouldRenderHandle ? (\n    <PanGestureHandler\n      enabled={enableHandlePanningGesture}\n      waitFor={waitFor}\n      simultaneousHandlers={simultaneousHandlers}\n      shouldCancelWhenOutside={false}\n      onGestureEvent={handlePanGestureHandler}\n      activeOffsetX={activeOffsetX}\n      activeOffsetY={activeOffsetY}\n      failOffsetX={failOffsetX}\n      failOffsetY={failOffsetY}\n    >\n      <Animated.View\n        accessible={true}\n        accessibilityRole=\"adjustable\"\n        accessibilityLabel=\"Bottom Sheet handle\"\n        accessibilityHint=\"Drag up or down to extend or minimize the Bottom Sheet\"\n        onLayout={shouldMeasureHeight ? handleOnLayout : undefined}\n      >\n        {renderHandle()}\n      </Animated.View>\n    </PanGestureHandler>\n  ) : null;\n  //#endregion\n};\n\nconst BottomSheetHandleContainer = memo(BottomSheetHandleContainerComponent);\nBottomSheetHandleContainer.displayName = 'BottomSheetHandleContainer';\n\nexport default BottomSheetHandleContainer;\n"]}